<div class="profiletab" ng-controller="ProfileViewController" ng-style="{'background-color':'#0065A0'}" style="width:100%;height:250px">
<div class="cover">
  <div class="profile-pic absolute" style="height:40%;display:inline-block">
  <img class="img-circle" src="https://secure.gravatar.com/avatar/cf17f9ff1e0a237ab76046d5aca84e0e?size=240" style="height:100px;width:100px">
  <span class="username" ng-bind=name_of_user></span>
  <span class="emailIdUser" ng-bind=emailId></span>

  <span class="tracksusername">
  <md-button class="md-raised md-primary" ng-show="originalUser" href="{{trackurl}}">Open {{name_of_user}}'s Tracks</button>
  </span>
</div>
<div class="statistics" >
   <div class="detail2" >
  <p ng-bind="track_number">
    <br>
    <div class="descp">
      {{'TRACKS' | translate}}
    </div>
  </div>
  <div class="detail2" >
    <p ng-bind="friends_number">
    <br>
    <div class="descp">
      {{'FRIENDS' | translate}}
    </div>
  </div>
  <div class="detail2" >
    <p ng-bind="distance_driven">
     <br>
     <div class="descp">
       {{'DISTANCE' | translate}}
     </div>
  </div>
  <div class="detail2" >
    <p ng-bind="groups_number">
    <br>
    <div class="descp">
      {{'GROUPS' | translate}}
    </div>
  </div>
</div>
</div>
</div>

<md-content>
  <md-tabs  md-dynamic-height md-border-bottom>
    <md-tab label="{{'TIMELINE_TAB' | translate}}">
      <md-content  ng-controller="DashboardController" style="background-color:#EEEEEE" md-theme="default">
        <div class="middle">
        <div layout-gt-md="row" layout="column" >
          <div layout-gt-md="column" style="width:100%" layout="column">
            <div layout-gt-md="row" style="width:100%" layout="row">
         <md-card   style="height:330px;width:100%" md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}"  md-theme-watch>
           <md-toolbar style="color:black;background-color:white" >
             <div class="md-toolbar-tools">
               <h3 style="color:rgba(0,0,0,0.5)">
                 <span>{{'User_VS_PUBLIC' | translate}} </span>
               </h3>
               <span flex></span>

               <md-menu md-offset="-120 15">
                   <md-button class="capitalize md-primary" ng-click="$mdOpenMenu()" aria-label="Open menu">
                     <i class="material-icons">more_vert</i>
                   </md-button>
                   <md-menu-content width="3">
                     <md-menu-item ng-repeat = "d in barchartoptions">
                     <md-button ng-click="changePhenomenonbar(d)">{{d}}</md-button>
                   </md-menu-content>
               </md-menu>
             </div>
           </md-toolbar>
            <md-card-content >
              <md-progress-circular class="loader_dashboard" ng-if="!onload_user_vs_public" md-diameter="156"></md-progress-circular>

              <nvd3 options="optionsSpeed" data="dataoverall" ng-if="onload_user_vs_public"></nvd3>

            </md-card-content>
          </md-card>
          <md-card   style="height:330px;width:100%" md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}"  md-theme-watch>

            <md-toolbar style="color:black;background-color:white" >
              <div class="md-toolbar-tools">
                <h3 style="color:rgba(0,0,0,0.5)">
                  <span>{{'SPEED_STATS' | translate}}</span>
                </h3>
                <span flex></span>

              <!--  <md-menu md-offset="-120 15">
                    <md-button class="capitalize md-primary" ng-click="$mdOpenMenu()" aria-label="Open menu">
                      <i class="material-icons">more_vert</i>
                    </md-button>
                    <md-menu-content width="3">
                      <md-menu-item ng-repeat = "d in piechartoptions">
                      <md-button ng-click="changePhenomenon(d)">{{d}}</md-button>
                    </md-menu-content>
                </md-menu>
              -->
              </div>
            </md-toolbar>
             <md-card-content >
               <md-progress-circular class="loader_dashboard" ng-if="!onload" md-diameter="156"></md-progress-circular>

             </md-card-content>
           </md-card>
         </div>
         <div layout-gt-md="row" style="width:100%" layout="column">
         <md-card ng-controller="LeafletHeatMap" style="height:550px;width:100%" md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}"  md-theme-watch>
           <md-toolbar style="color:black;background-color:white" >
             <div class="md-toolbar-tools">
               <h3 style="color:rgba(0,0,0,0.5)">
                 <span>{{'HEAT_MAP' | translate}}</span>
               </h3>
               <span flex></span>
<!--
               <md-menu md-offset="-120 15">
                   <md-button class="capitalize md-primary" ng-click="$mdOpenMenu()" aria-label="Open menu">
                     <i class="material-icons">more_vert</i>
                   </md-button>
                   <md-menu-content width="3">
                      <md-menu-item><md-button ng-click="changePointSet(0)">All Points</md-button></md-menu-item>
                      <md-menu-item><md-button ng-click="changePointSet(1)">Starting Points</md-button></md-menu-item>
                      <md-menu-item><md-button ng-click="changePointSet(2)">Ending Points</md-button></md-menu-item>
                   </md-menu-content>
               </md-menu>
             -->
             </div>
           </md-toolbar>
           <md-card-content style="height:auto">
             <md-progress-circular class="loader_dashboard" ng-if="!onload_heat_map" md-diameter="156"></md-progress-circular>
             <div ng-if="onload_heat_map">
             <leaflet lf-center="center" layers="layers" width="100%" height="464px"></leaflet>
           </div>
           </md-card-content>
          </md-card>
        </div>
       </div>
        <!--   <md-card  ng-if="onload" style="height:200px;width:100%" md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}"  md-theme-watch>

            <md-card-title>

            <md-card-title-text>
              <span class="md-headline">Timeline</span>
              </md-card-title-text>
            </md-card-title>
              <md-card-content>

                  <p>jedej</p>
              </md-card-content>
            </md-card>

-->



          <md-card style="min-width:30%;height:730px" md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}" md-theme-watch>
            <md-toolbar style="color:black;background-color:white" >
              <div class="md-toolbar-tools">
                <h3 style="color:rgba(0,0,0,0.5)">
                  <span>{{'TITLE_TRACKS' | translate}}</span>
                </h3>
                <span flex></span>

              <!--  <md-menu md-offset="-120 15">
                    <md-button class="capitalize md-primary" ng-click="$mdOpenMenu()" aria-label="Open menu">
                      <i class="material-icons">more_vert</i>
                    </md-button>
                    <md-menu-content width="3">
                      <md-menu-item ng-repeat = "d in piechartoptions">
                      <md-button ng-click="changePhenomenon(d)">{{d}}</md-button>
                    </md-menu-content>
                </md-menu>
              -->
              </div>
            </md-toolbar>

            <md-card-content >

            <!--  <md-card ng-repeat="event in events">
                <md-toolbar>
                  <div class="md-toolbar-tools">
                    <h3>
                      <span style="color:white">{{event.title}}</span>
                    </h3>
                  </div>
                </md-toolbar>
                <img src={{event.url}} class="md-card-image" alt="Washed Out"></img>
                <md-card-content>
                  <div>
                  <h3><b>{{event.begin}}</b></h3>
                </div>
                </md-card-content>
              </md-card>
            -->         <md-progress-circular class="loader_dashboard" ng-if="!onload_tracks_timeline" md-diameter="156"></md-progress-circular>
                      <md-list-item ng-if="onload_tracks_timeline" md-theme="default" md-ink-ripple="#0065A0" class="md-3-line md-long-text " ng-repeat='event in events' ng-click="goToActivity(event.id)">
                      <img class="md-avatar" src={{event.url}} style="width:80px;height:80px"></img>
                      <div class="md-list-item-text" layout="column">
                      <h3><b>{{event.begin}}</b></h3>
                      <h4>{{event.title}}</h4>
                      <p>{{'DISTANCE' | translate}} - {{event.distance}} Km</p>
                    </div>
                    <md-tooltip class="trackpreview" md-direction="left">
                    <md-content >
                    <img src={{event.url}} style="width:480px;height:380px"></img>
                    </md-content>
                  </md-tooltip>
                    </md-list-item>
                </md-card-content>


        </md-card>

  </div>
</div>


      </md-content>
    </md-tab>
    <md-tab label="{{'ACTIVITY_TAB' | translate}}">
      <md-content style="background-color:#EEEEEE" class="md-padding">
        <div class="middle">
        <div layout-gt-md="row" layout="column" >
        <md-card ng-show="originaluser" ng-controller="FriendActivityController" md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}" class="card card-4-50" md-theme-watch>
          <md-toolbar md-theme="custom" class="md-hue-1 md-whiteframe-z2" md-scroll-shrink ng-if="true">
            <div class="md-toolbar-tools">
              <h3>
                <span>{{ 'FRIENDS_ACTIVITY' | translate}}</span>
              </h3>
            </div>
          </md-toolbar>
          <md-card-content>
            <md-content ng-show="!show_no_my_activity" flex layout-padding style="max-height:470px">
              <md-list-item class="md-3-line md-long-text md-whiteframe-1dp" ng-repeat='item in events' ng-click="goToActivity(item.type,item.trackidlink)">
                <img class="md-avatar" src={{item.profileurl}}></img>
                <div class="md-list-item-text" layout="column">
                <h3>{{item.topic}}</h3>
                <h4>{{item.name}}</h4>
                <p>{{item.date}}</p>
              </div>
              </md-list-item>
              <div ng-show = 'busy'>{{'LOADING_DATA' | translate}}</div>
        </md-content>
        <div layout="row" ng-show="show_no_my_activity" layout-align="center center">
          <p>{{'NO_FRIENDS_ACTIVITY' | translate}}</p>
        </div>
        </md-card-content>
        <md-card-actions layout-align="center center">
          <md-button ng-show="!show_no_my_activity" ng-click="nextpage()">{{'LOAD_MORE' | translate}}</md-button>
        </md-card-actions>
        </md-card>
        <md-card ng-controller="MyActivityController" md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}" class="card card-4-50" md-theme-watch>
          <md-toolbar md-theme="custom" class="md-hue-1 md-whiteframe-z2" md-scroll-shrink ng-if="true">
            <div class="md-toolbar-tools">
              <h3>
                <span>{{'MY_ACTIVITY' | translate}}</span>
              </h3>
            </div>
          </md-toolbar>
          <md-card-content>
            <md-content flex layout-padding style="max-height:470px">
              <md-list-item ng-show="!show_no_my_activity" class="md-3-line md-long-text md-whiteframe-1dp" ng-repeat='item in events' ng-click="goToActivity(item.type,item.trackidlink)">
               <img class="md-avatar" src={{item.profileurl}}></img>
                <div class="md-list-item-text" layout="column">
                <h3>{{item.topic}}</h3>
                <h4>{{item.name}}</h4>
                <p>{{item.date}}</p>
              </div>
              </md-list-item>
              <div ng-show = 'busy'>{{'LOADING_DATA' | translate}}</div>
        </md-content>
        <div layout="row" ng-show="show_no_my_activity" layout-align="center center">
          <p>{{'NO_ACTIVITY' | translate}}</p>
        </div>
        </md-card-content>

        <md-card-actions layout-align="center center">
          <md-button ng-show="!show_no_my_activity" ng-click="nextpage()">{{'LOAD_MORE' | translate}}</md-button>
        </md-card-actions>
        </md-card>
      </div>
    </div>
</md-content>
</md-tab>

<md-tab label="{{'FRIENDS_AND_GROUPS_TAB' | translate}}">
  <md-content style="background-color:#EEEEEE">
    <div class="middle">
    <md-card ng-controller="FriendListController" md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}" class="card card-4-50" style="width:400px" md-theme-watch>
      <md-toolbar md-theme="custom" class="md-hue-1 md-whiteframe-z2" md-scroll-shrink ng-if="true">
        <div class="md-toolbar-tools">
          <h3>
            <span>{{'FRIENDS' | translate}}</span>
          </h3>
        </div>
      </md-toolbar>
      <md-card-content>
        <div flex>
        <md-content ng-show="!show_no_friends" flex layout-padding >
          <md-list-item class="md-long-text" ng-repeat='item in data_friends' ng-click="goToFriend(item.username)">
         <img class="md-avatar" src={{item.profile_url}}></img>
            <div class="md-list-item-text md-2-line" layout="column">
            <h3>{{item.username}}</h3>
          <h4>{{item.name}}</h4>
            <p>{{item.date}}</p>

          </div>
          </md-list-item>
    </md-content>
    <div layout="row" ng-show="show_no_friends" layout-align="center center">
      <p>{{'NO_FRIENDS' | translate}}</p>
    </div>
  </div>
    </md-card-content>
    </md-card>
  </div>
  </md-content>
</md-tab>
</md-tabs>
</md-content>
